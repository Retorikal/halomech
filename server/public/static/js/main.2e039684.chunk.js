(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(t,e,a){},209:function(t,e,a){},214:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),s=a(30),c=a.n(s),i=(a(100),a(13)),o=a.n(i),u=a(23),l=a(31),d=a(5),b=a(6),j=a(9),h=a(8),p=a(7),f=Object(r.createContext)(),O=function(t){Object(j.a)(a,t);var e=Object(h.a)(a);function a(t){var r;return Object(d.a)(this,a),(r=e.call(this,t)).state={ready:!1,motor_id:"",data_time:[],data_rpm:[],data_vib:[],data_mil:[],set_id:function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.setState({motor_id:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),populate:function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.populate();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),get_rpm:function(){return r.state.data_rpm},get_vib:function(){return r.state.data_vib},get_mil:function(){return r.state.data_mil},get_time:function(){return r.state.data_time}},r}return Object(b.a)(a,[{key:"populate",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e,a,r,n,s,c,i,u,l,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],a=[],r=[],n=[],t.next=6,this.get_data(this.state.motor_id,"rpm");case 6:for(s=t.sent,c=0;c<s.length;c++)e[c]=s[c].data,n[c]=s[c].time.slice(11,16);return t.next=10,this.get_data(this.state.motor_id,"vib");case 10:for(i=t.sent,u=0;u<i.length;u++)r[u]=i[u].data;return t.next=14,this.get_data(this.state.motor_id,"mil");case 14:for(l=t.sent,d=0;d<l.length;d++)a[d]=l[d].data;return t.next=18,this.setState({data_rpm:e.reverse(),data_vib:r.reverse(),data_mil:a.reverse(),data_time:n.reverse()});case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"get_data",value:function(){var t=Object(u.a)(o.a.mark((function t(e,a){var r,n,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/".concat(a),n={method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({motor:e})},t.next=4,fetch(r,n);case 4:return s=t.sent,c="",t.next=8,s.json();case 8:if(c=t.sent,!(s.status>=400)){t.next=14;break}return console.log(s),t.abrupt("return",null);case 14:return t.abrupt("return",c);case 15:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsx)(f.Provider,{value:this.state,children:this.props.children})}}]),a}(r.Component),x=(a.p,a(35)),m=a(95),g=a(94),v=a(49),_=a(70),y=a(93),k=a(14),C=a(52);a(209),a(210);function w(t){var e=Object(r.useState)(""),a=Object(l.a)(e,2),n=a[0],s=a[1],c=Object(r.useState)([]),i=Object(l.a)(c,2),d=i[0],b=i[1],j=Object(r.useState)([]),h=Object(l.a)(j,2),O=h[0],w=h[1],S=Object(r.useState)([]),N=Object(l.a)(S,2),T=N[0],B=N[1],F=Object(r.useState)([]),M=Object(l.a)(F,2),P=M[0],J=M[1],L=Object(r.useContext)(f),W=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.set_id(n);case 2:return t.next=4,L.populate(n);case 4:b(L.get_rpm()),w(L.get_vib()),B(L.get_mil()),J(L.get_time());case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{ticks:{color:"white"}},x:{ticks:{color:"white"}}}},I={labels:P,fontColor:"#fff",datasets:[{backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(255,255,255,1)",borderWidth:2,data:d}]},D={labels:P,fontColor:"#fff",datasets:[{backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(255,255,255,1)",borderWidth:2,data:T}]},E={labels:P,fontColor:"#fff",datasets:[{backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(255,255,255,1)",borderWidth:2,data:O}]};return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)(x.a,{bg:"dark",variant:"dark",expand:"lg",children:[Object(p.jsx)(x.a.Brand,{href:"#home",children:"HALOMech"}),Object(p.jsx)(x.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsxs)(x.a.Collapse,{id:"basic-navbar-nav",children:[Object(p.jsx)(m.a,{className:"mr-auto"}),Object(p.jsxs)(g.a,{inline:!0,children:[Object(p.jsx)(v.a,{type:"text",placeholder:"Motor name",className:"mr-sm-2",onChange:function(t){s(t.target.value)}}),Object(p.jsx)(_.a,{variant:"outline-success",onClick:W,children:"Change"})]})]})]}),Object(p.jsxs)(y.a,{className:"content bg-light",children:[Object(p.jsx)(k.a,{className:"bg-dark text-white my-2",children:Object(p.jsxs)(k.a.Body,{children:[Object(p.jsx)(k.a.Title,{children:"RPM"}),Object(p.jsx)(C.a,{height:100,options:A,data:I})]})}),Object(p.jsx)(k.a,{className:"bg-dark text-white my-2",children:Object(p.jsxs)(k.a.Body,{children:[Object(p.jsx)(k.a.Title,{children:"Mileage (m)"}),Object(p.jsx)(C.a,{height:100,options:A,data:D})]})}),Object(p.jsxs)(k.a,{className:"bg-dark text-white my-2",children:[Object(p.jsxs)(k.a.Body,{children:[Object(p.jsx)(k.a.Title,{children:"Vibration"}),Object(p.jsx)(C.a,{height:100,options:A,data:E})]}),Object(p.jsx)(k.a.Footer,{children:Object(p.jsx)(_.a,{variant:"primary",children:"Get vibration analysis"})})]})]})]})}var S=function(t){return Object(p.jsx)(O,{children:Object(p.jsx)(w,{})})},N=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,217)).then((function(e){var a=e.getCLS,r=e.getFID,n=e.getFCP,s=e.getLCP,c=e.getTTFB;a(t),r(t),n(t),s(t),c(t)}))};c.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root")),N()}},[[214,1,2]]]);
//# sourceMappingURL=main.2e039684.chunk.js.map